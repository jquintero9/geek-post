{% extends 'base.html' %}

{% block head_title %}Artículos{% endblock %}

{% block content %}
    {% if lista_articulos %}
    <section id="seccion-posts">
    {% for articulo in lista_articulos %}
    <article class="post">
        <h2><a href="{{ articulo.get_absolute_url }}">{{articulo.titulo}}</a><br />
        <small>{{articulo.fecha_publicacion}}</small></h2>
        {% if articulo.imagen %}
        <div class="contenedor-imagen">
            <img class="imagen-post" src="{{ articulo.imagen.url }}" alt="">
        </div>
        {% endif %}
        {% autoescape off %}
        <p class="introduccion-articulo">{{articulo.get_introduccion}}</p>
        {% endautoescape %}
        <a href="{{ articulo.get_absolute_url }}" class="leer-mas icon-book">Leer más>></a>
    </article>
    {% endfor %}
        <nav class="paginacion">
            <ul>
                {% if page_obj.has_previous %}
                <li><a href="?page={{page_obj.previous_page_number}}" class="boton prev">&lt;&lt;</a></li>
                {% else %}
                <li><a class="none boton prev">&lt;&lt;</a></li>
                {% endif %}

                {% if paginator.page_range %}
                {% for i in paginator.page_range %}
                {% if i == pagina_actual %}
                <li><a href="?page={{i}}" class="boton numero actual">{{i}}</a></li>
                {% else %}
                <li><a href="?page={{i}}" class="boton numero">{{i}}</a></li>
                {% endif %}
                {% endfor %}
                {% endif %}

                {% if page_obj.has_next %}
                <li><a href="?page={{page_obj.next_page_number}}" class="boton next">&gt;&gt;</a></li>
                {% else %}
                <li><a class="none boton next">&gt;&gt;</a></li>
                {% endif %}
            </ul>
        </nav>
    </section>
    {% endif %}
    {% include 'articulos/categorias.html' %}
{% endblock %}